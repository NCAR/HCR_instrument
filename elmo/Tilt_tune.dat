<Version>
	<LOAD_VERSION_STRING>Hornet 2.02.07.21 28Jan2008<end_LOAD_VERSION_STRING>
<end_Version>
<DownLoad>
	<Params>0000000000000000000200000000000003E80000000100000001000000000000000000000000000000000000000040A03333401300000000CF960003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000050000000000000002000000000000005A0000000000000000000000000000000100000001000000010000000300000002000000010000000000000000000000000000000000000000000000000000800000000000000000040000000000000001000007D000000004000000010000000100000002000000000000000500000000000000140000000000000000000000010000000000000002000004B0000000000000000000000000000000000000000000000000000000000000800000000000000000000000ABA4000AEA5F0000D4C00001D4C0000158800C84000000000000000014C800059F0000240000000000000000EB38FFFA6100FFDB000000000000000014C80005CA003B9A0000000000000000EB38FFFA3600C46512340000000000000004000000090000000B0000000700000004000000040000000400000004000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000003F8000003F8000003F8000070000000000000000000000000000651C00006967000000000000000000000000000087000393000000000000000000000000000000007D000000000000000000000000000000000000000000000000000000CCCD3DCC00003F80000000000000000000000000000000000000000000000000147B3F8E000000000000427000000000B800458900003F0000000000000000000A3D40370000423A000043FA0000000000000000000000000000000000000000333340130000404000000000000100000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000007D00000001000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000001000004059006D000000000000000000000000001000001D50000C00000000000000001F76037E001000004059006D0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000DD5945F2C7B745ED95C645E846EA45E3365F45E7375C45EB4A2D45EF6F2345F3487D45F425E845F5077745F6ED3D45F603E845F50D5845F3093145F198AD45F12B5145F2C12E45F25A5745F3B52A45F105D545F04C1A45EE87B845EC60B845EF53C645F261D245F5930345F6CB7B45F70B6545F952F045FAA24945FBB82A45FDE02B45FF0D74460134834602D2D1460386F64605521B460785A24609D372460B3CC2460EC2DD461002EA461364034615E80E4617910D461A6FE0461C7267461E9B4D4620ED6E46220CDC46257AEF46274307462A4307462A4307462A4307462A4307462A4307462A4307462A4307462A4307462A4307462A4307462AE3C93F2145BB3F5CF64D3F8B6FCE3FAAAF813F941C8F3F7D15093F5044FA3F22D5E03F2269773F23FFCE3F2398F63F2463FE3F3DDAA93F56019F3F71790C3F809E233F88F1133F9072E73F9964CB3FAABF513FBB84F53FCDB84E3FDF69CF3FE233FC3FE517B13FE814013FF52FCF4001FE264007F60E400E18764016CB6C40292991403E38BD4053FEE74068E443406BF0BB406E265B407242A6406B0CB3406480A6405C9A80405464C7406416F440755F2D4083B483408CEACD408B120C408B2924408A2EDA4089BDCD408E1AAA4095633F409C400140A72AE540B4877B40C3CC2140D5C84B40D5C40040D5BF2D40D5B9C340D5B3B140D5ACDE40D500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000140000001F00000024000000280000002B0000002E0000002F00000031000000320000003200000033000000340000003400000035000000350000003500000035000000360000003600000036000000370000003700000037000000370000003800000038000000380000003800000038000000390000003900000039000000390000003A0000003A0000003A0000003A0000003A0000003B0000003B0000003B0000003B0000003B0000003C0000003C0000003C0000003C0000003C0000003D0000003D0000003D0000003D0000003D0000003D0000003D0000003E0000003E0000003E0000003E0000003E0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003600C465CA003B9A000000003600C465CA003B9A006D000000000000003C00000000000000000000780000000FA000005D910000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A003200000001000000000000000000000000000000000000000000000000000000000000000100000001000000000000000100000001000000000000000100000001000000000000000100000001000000000000000100000001000000000000000100000001000000000000000100000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004560000000000000000000000000000000000000000000000003A904665000E00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000<end_Params>
<end_DownLoad>
<Communication>
	<CommunicationType>CAN<end_CommunicationType>
	<mNodeID>125<end_mNodeID>
	<sBoardType>USBcan<end_sBoardType>
	<mCanNr>0<end_mCanNr>
	<mBaudRateIndex>6<end_mBaudRateIndex>
	<w_irq1>1<end_w_irq1>
	<w_address1>0<end_w_address1>
	<sManufacture>Kvaser<end_sManufacture>
<end_Communication>
<UserProgram>
	<Program>/////////////////////////////////////////////////////////////////////
//
// Move drive to the first index mark in the positive direction from the home
// sensor and set the count value for that location to the value currently in
// user integer UI[1].
//
function tiltHoming()
	MO=0; UM=5; MO=1;

	// For the tilt drive, the homing process must begin from the
	// reverse limit switch. If we're not at the RLS, move there now.
	// (IB[11] tells if we're at the RLS)
	if (! IB[11])
		// Stop at RLS
		HM[3]=7; HM[4]=0; HM[5]=2;
		HM[1]=1;
		JV=-10000; BG;
		waitHoming();
	end

	// If we see the home sensor (digital input 5, shown via IB[20])
	// while we're at the reverse limit, it's because yoke is no longer
	// within the sensor, not that sensor is shining through the homing
	// slit in the yoke. Move forward a bit until the homing sensor 
	// turns off, meaning the yoke is now within the sensor.
	while (IB[20])
		PR=100; BG;
	end

	// Jog forward and set zero absolute position where we first
	// see the home sensor. This position may vary a bit since the
	// home sensor for the rotation motor has a wide field of view.
	HM[2]=0; HM[3]=17; HM[4]=0; HM[5]=0;
	HM[1]=1;
	JV=5000; BG;
	waitHoming();

	// Move back to the zero mark we just set
	PA=0; BG;
	waitMotion();
	
	// Now jog slowly to the first index mark forward of 'home'. This position 
	// should be extremely consistent.
	//
	// We assign the user integer value found in UI[1] (which must be set 
	// externally before the call here) as the absolute count value at this 
	// location.
	HM[2]=UI[1]; HM[3]=3; HM[4]=0; HM[5]=0;
	HM[1]=1;
	JV=2000; BG;
	waitHoming();

	// Finish by moving to the new zero position.
	PA=0; BG;
	waitMotion();
return

/////////////////////////////////////////////////////////////////////
function tiltInit()
	// Counts per full cycle (360 deg)
	int fullCycle;
	fullCycle = CA[18]*240;
	
	// Set AC and DC to 90 deg/s2
	AC=fullCycle/4; DC=AC;
	
	// Set counting range for the main feedback (PX)
	XM[1]=-fullCycle/2; XM[2]=fullCycle/2;
	ER[3]=XM[2]/4-1;
	
	// Set speed (max speed is VH[2])
	SP=VH[2]*0.75;
	MO=1;
return

/////////////////////////////////////////////////////////////////////
//
// Wait until homing (and residual motion after homing) is complete
//
function waitHoming()
	// Wait until HM[1] is true, i.e., until homing is complete
	until (HM[1]);
	// Wait for residual motion to be complete as well
	waitMotion();
return

/////////////////////////////////////////////////////////////////////
//
// Wait until motion completes
//
function waitMotion()
	// MS == 2 while motion is in progress
	until (MS != 2);
return
<end_Program>
<end_UserProgram>
