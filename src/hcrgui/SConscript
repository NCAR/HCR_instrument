# -*- python -*-

hcrguiTools = Split("""
hcrpmc730client
cmigitsdaemonrpcclient
doxygen
hcrdrxrpcclient
logx
motioncontrol
xmitdrpcclient
qt4
""")
hcrguiEnv = Environment(tools = ['default'] + hcrguiTools)
hcrguiEnv.EnableQt4Modules(['QtCore', 'QtGui'])

hcrgui_sources = Split("""
hcrgui.cpp
HcrdrxStatusThread.cpp
HcrGuiMainWindow.cpp
HcrGuiXmitStatusDialog.cpp
HcrGuiCmigitsStatusDialog.cpp
HcrGuiAntennaModeDialog.cpp
MotionControlDetails.cpp
MotionControlClientThread.cpp
Pmc730StatusThread.cpp
qrc_HcrGuiMainWindow.cc
XmitdStatusThread.cpp
""")
hcrgui = hcrguiEnv.Program('hcrgui', hcrgui_sources)
Default(hcrgui)

uifiles = Split("""
HcrGuiMainWindow.ui
HcrGuiXmitStatusDialog.ui
HcrGuiCmigitsStatusDialog.ui
HcrGuiAntennaModeDialog.ui
MotionControlDetails.ui
""")
hcrguiEnv.Uic4(uifiles)

# This generates the rules for *.qrc -> qrc_*.cc
qrcfiles = Split("""
HcrGuiMainWindow.qrc
""")
hcrguiEnv.Qrc(qrcfiles)

headers = Split("""
HcrdrxStatusThread.h
HcrGuiMainWindow.h
HcrGuiXmitStatusDialog.h
HcrGuiCmigitsStatusDialog.h
HcrGuiAntennaModeDialog.h
MotionControlDetails.h
MotionControlClientThread.h
Pmc730StatusThread.h
XmitdStatusThread.h
""")

html = hcrguiEnv.Apidocs(hcrgui_sources + headers)
Default(html)
