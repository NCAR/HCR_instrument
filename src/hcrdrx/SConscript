# -*- python -*-

tools = Split("""
    hcrpmc730client
    cmigitsdaemonrpcclient
    boost_date_time
    boost_program_options
    doxygen
    hcrdrxrpcclient
    logx
    lrose
    motioncontrol
    Pentek_xx821
    QFunctionWrapper
    qt5
    QXmlRpcServerAbyss
    xmitdrpcclient
""")
env = Environment(tools = ['default'] + tools)

# Note that DrxStatus.cpp, HcrdrxRpcClient.cpp, and HcrPmc730.cpp are compiled
# via the hcrdrxrpcclient tool
sources = Split("""
    hcrdrx.cpp
    HCR_Beam.cpp
    HCR_Config.cpp
    HCR_Pentek.cpp
    IwrfPublisher.cpp
    PublishWorker.cpp
""")

headers = Split("""
    HCR_Beam.h
    HCR_Config.h
    HCR_Pentek.h
    HcrdrxRpcClient.h
    IwrfPublisher.h
    PublishWorker.h
""")

hcrdrx = env.Program('hcrdrx', sources)

html = env.Apidocs(sources + headers)
Default(hcrdrx, html)
